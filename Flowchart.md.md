flowchart TD
    %% ì‚¬ìš©ì ì…ë ¥
    A["ğŸŸ¡ ì‚¬ìš©ì ë°œí™”"] --> B["ğŸ” ì˜ë„ ë¶„ì„ (Intent Detection)"]

    %% Intent ë¶„ê¸°
    B -->|ì¶”ì²œ ê´€ë ¨ ì˜ë„| C1["ğŸ”µ ì¶”ì²œ ì—ì´ì „íŠ¸ ì „í™˜"]
    B -->|ì¼ìƒëŒ€í™”| C2["ğŸŸ¢ ì¼ìƒëŒ€í™” ì—ì´ì „íŠ¸"]

    %% ì¼ìƒëŒ€í™” â†’ ìœ ë„ ë¶„ê¸°
    C2 --> D2["ë§¥ë½ ê¸°ë°˜ ì¶”ì²œ ìœ ë„ íŒë‹¨"]
    D2 -->|ìœ ë„ íƒ€ì´ë°| E2["ìœ ë„ ì§ˆë¬¸ ë°œí™”: 'ì¶”ì²œí•´ë“œë¦´ê¹Œìš”?'"]
    E2 --> F2["ì‚¬ìš©ì ì‘ë‹µ"]
    F2 -->|ê¸ì •| C1
    F2 -->|ë¶€ì •| C2

    %% ì¶”ì²œ ì—ì´ì „íŠ¸ ì‹œì‘
    C1 --> G["ğŸ¯ ì¶”ì²œ Intent/ìŠ¬ë¡¯ ì¶”ì¶œ"]

    %% ì¶”ì²œ ë°©ì‹ ë¶„ê¸°
    G -->|ì¡°ê±´ ëª…í™•| H1["ğŸŸ¨ SQL ê¸°ë°˜ ì¶”ì²œ"]
    G -->|ìœ ì‚¬ ì˜ë¯¸ ìš”ì²­| H2["ğŸŸ¦ Vector DB ê¸°ë°˜ ì¶”ì²œ"]

    %% ì¶”ì²œ ê²°ê³¼ ì œê³µ
    H1 --> I["ğŸ”½ ì¶”ì²œ ê²°ê³¼ ì œì‹œ"]
    H2 --> I

    %% Evaluator ì¶”ê°€
    I --> E["ğŸ“Š ì¶”ì²œ í’ˆì§ˆ í‰ê°€ (Evaluator)"]

    %% Evaluator ë¶„ê¸°
    E -->|í’ˆì§ˆ ìš°ìˆ˜| J["ğŸ—£ ì‚¬ìš©ì í”¼ë“œë°± ê°ì§€"]
    E -->|í’ˆì§ˆ ê°œì„  í•„ìš”| E1["ğŸ”„ ì¶”ì²œ ì¬ì¡°ì •"]
    E1 --> G

    %% ì‚¬ìš©ì í”¼ë“œë°± ê°ì§€
    J --> K["ğŸ—£ ì‚¬ìš©ì í”¼ë“œë°± ê°ì§€"]

    %% í”¼ë“œë°± ìœ í˜•ì— ë”°ë¥¸ ë¶„ê¸°
    K -->|ê¸ì • í‰ê°€| K1["âœ… ì¶”ì²œ ì¢…ë£Œ or ê´€ë ¨ ì¶”ì²œ ê°•í™”"]
    K -->|ì¡°ê±´ ë³€ê²½ ìš”ì²­| K2["ğŸ›  ìŠ¬ë¡¯ ë³€ê²½ í›„ ì¬ì¶”ì²œ â†’ G"]
    K -->|ë¶€ì • í‰ê°€| K3["ğŸš« ì¬ì¶”ì²œ: ì œì™¸ / ì¿¼ë¦¬ ì¡°ì • â†’ G"]
    K -->|ë” ë³´ê³  ì‹¶ìŒ| K4["ğŸ” ë‹¤ì–‘ì„± í™•ëŒ€ ì¬ì¶”ì²œ â†’ G"]
    K -->|í–‰ë™ ê¸°ë°˜(í´ë¦­, êµ¬ë§¤)| K5["ğŸ“¦ í”¼ë“œë°± ë¡œê·¸ ê¸°ë¡ + ê°œì¸í™” ê°•í™”"]

    %% ì¢…ë£Œ ì¡°ê±´
    K1 --> L["ğŸ ëŒ€í™” ì¢…ë£Œ or êµ¬ë§¤ ìœ ë„"]
    K2 --> I
    K3 --> I
    K4 --> I
    K5 --> I

## ğŸš€ LangGraph ë°”ë¡œ ì‹œê°í™” ë°©ë²•

### 1. **Jupyter Notebookì—ì„œ ë°”ë¡œ ì‚¬ìš©**
```python
from langgraph_direct_visualization import show_langgraph_directly
show_langgraph_directly()
```

### 2. **ë©”ì¸ ì‹œìŠ¤í…œì—ì„œ ë°”ë¡œ ì‚¬ìš©**
```python
# ë©”ì¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” í›„
system = LangGraphFashionSystem(products_df)

# ë°”ë¡œ ì´ë¯¸ì§€ë¡œ í‘œì‹œ
system.display_workflow_simple()
```

### 3. **ì»¤ìŠ¤í…€ ì›Œí¬í”Œë¡œìš°ì—ì„œ ë°”ë¡œ ì‚¬ìš©**
```python
# ì›Œí¬í”Œë¡œìš° ìƒì„± í›„
compiled_workflow = workflow.compile()

# ë°”ë¡œ ì´ë¯¸ì§€ë¡œ í‘œì‹œ
from IPython.display import Image, display
png_image = compiled_workflow.get_graph().draw_mermaid_png()
display(Image(png_image))
```

## âœ… í•µì‹¬ í¬ì¸íŠ¸

- **`draw_mermaid_png()`**: LangGraphì˜ ë‚´ì¥ í•¨ìˆ˜ë¡œ ë°”ë¡œ PNG ì´ë¯¸ì§€ ìƒì„±
- **`display(Image(png_image))`**: IPythonì—ì„œ ë°”ë¡œ ì´ë¯¸ì§€ í‘œì‹œ
- **í•œ ì¤„ë¡œ ì‹¤í–‰**: ë³µì¡í•œ ì„¤ì • ì—†ì´ ë°”ë¡œ ì‹œê°í™”

ì´ì œ Jupyter Notebookì—ì„œ `show_langgraph_directly()`ë¥¼ í˜¸ì¶œí•˜ë©´ LangGraph ì›Œí¬í”Œë¡œìš°ê°€ ë°”ë¡œ ì´ë¯¸ì§€ë¡œ í‘œì‹œë©ë‹ˆë‹¤! ğŸ¯
